<form [formGroup]="converterForm">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Exchange Calculator</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="currency-wrapper">
        <mat-form-field class="currency-amount">
          <input
            formControlName="firstCurrencyAmount"
            matInput
            placeholder="Enter amount" />
          <mat-error
            *ngIf="
              converterForm.controls['firstCurrencyAmount'].hasError('required')
            ">
            Enter amount
          </mat-error>
        </mat-form-field>

        <mat-form-field class="currency-label">
          <input
            (keyup)="onEnterPress($event)"
            [matAutocomplete]="auto"
            formControlName="firstCurrencyLabel"
            matInput
            placeholder="Select currency" />
          <mat-icon
            *ngIf="isCurrencyLabelValid"
            class="currency-flag currency-flag-{{
              converterForm.controls['firstCurrencyLabel'].value.toLowerCase()
            }}">
          </mat-icon>

          <mat-autocomplete #auto="matAutocomplete">
            <mat-option
              *ngFor="let currencyLabel of filteredCurrencyLabels$ | async"
              [value]="currencyLabel"
              (click)="selectCurrency(currencyLabel)">
              <mat-icon
                class="currency-flag currency-flag-{{
                  currencyLabel.toLowerCase()
                }}"></mat-icon>
              {{ currencyLabel }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
    </mat-card-content>
  </mat-card>
</form>
